<!--
  Generated template for the MapDetail page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>{{mapInfo.title}}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <div id="listView" [hidden]="curView=='map'">
    <ion-card>
      <img src="{{mapInfo.coverImg | imagefilter:'mural'}}" />
      <ion-card-content>
        <ion-item class="no-padding-left">
          <ion-avatar item-start>
            <img src="{{mapInfo.creater?.avatar | imagefilter:'avatar'}}">
          </ion-avatar>
          <h2>{{mapInfo.creater?.name}}</h2>
          <p>{{mapInfo.creater?.signature}}</p>
        </ion-item>
        <ion-card-title>
          {{mapInfo.title}}
        </ion-card-title>
        <p>
          {{mapInfo.description}}
        </p>
      </ion-card-content>
    </ion-card>

    <map-view [location]="mapLocations" [viewType]="'map-locations'" [viewTitle]="viewTitle"></map-view>

    <ion-card>
      <ion-list>
        <button ion-item *ngFor='let item of mapLocations'>
          <ion-thumbnail item-start>
            <img class="" src="{{item.imgs[0] | imagefilter:'thumbnail' }}">
          </ion-thumbnail>
          <h2>{{item.description}}</h2>
          <p>{{item.locationInfo.address}}</p>
          <button ion-button clear item-end (click)="goLocationDetail(item)">详情</button>
        </button>
      </ion-list>
    </ion-card>
  </div>

</ion-content>
